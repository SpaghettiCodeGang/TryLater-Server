<!DOCTYPE HTML>
<html lang="de">
<head>
<!-- Generated by javadoc (22) on Sat May 03 13:03:38 CEST 2025 -->
<title>ImageService</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-05-03">
<meta name="description" content="declaration: package: com.spaghetticodegang.trylater.image, class: ImageService">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript ist im Browser deaktiviert.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Navigationslinks umschalten"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Navigations-Links überspringen">Navigations-Links überspringen</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Überblick</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Klasse</li>
<li><a href="package-tree.html">Baum</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Hilfe</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Übersicht:</p>
<ul>
<li>Verschachtelt</li>
<li>Feld</li>
<li><a href="#constructor-summary">Konstruktor</a></li>
<li><a href="#method-summary">Methode</a></li>
</ul>
</li>
<li>
<p>Details:</p>
<ul>
<li>Feld</li>
<li><a href="#constructor-detail">Konstruktor</a></li>
<li><a href="#method-detail">Methode</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Übersicht:&nbsp;</li>
<li>Verschachtelt&nbsp;|&nbsp;</li>
<li>Feld&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Konstruktor</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Methode</a></li>
</ul>
<ul class="sub-nav-list">
<li>Details:&nbsp;</li>
<li>Feld&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Konstruktor</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Methode</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Suchen">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.spaghetticodegang.trylater.image</a></div>
<h1 title="Klasse ImageService" class="title">Klasse ImageService</h1>
</div>
<div class="inheritance" title="Vererbungsbaum"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="Klasse oder Schnittstelle in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.spaghetticodegang.trylater.image.ImageService</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="annotations">@Service
</span><span class="modifiers">public class </span><span class="element-name type-name-label">ImageService</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="Klasse oder Schnittstelle in java.lang" class="external-link">Object</a></span></div>
<div class="block">Service layer for handling business logic related to image upload and deletion.
 This service provides methods for uploading, scaling, and deleting images,
 as well as creating response DTOs for image uploads.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Konstruktorübersicht</h2>
<div class="caption"><span>Konstruktoren</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Konstruktor</div>
<div class="table-header col-last">Beschreibung</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ImageService</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Methodenübersicht</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">Alle Methoden</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instanzmethoden</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Konkrete Methoden</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifizierer und Typ</div>
<div class="table-header col-second">Methode</div>
<div class="table-header col-last">Beschreibung</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto">ImageUploadResponseDto</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createImageUploadResponseDto(com.spaghetticodegang.trylater.image.Image)" class="member-name-link">createImageUploadResponseDto</a><wbr>(<a href="Image.html" title="Klasse in com.spaghetticodegang.trylater.image">Image</a>&nbsp;image)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates an <a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto"><code>ImageUploadResponseDto</code></a> from a given <a href="Image.html" title="Klasse in com.spaghetticodegang.trylater.image"><code>Image</code></a> entity.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteImageByImgPath(java.lang.String)" class="member-name-link">deleteImageByImgPath</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="Klasse oder Schnittstelle in java.lang" class="external-link">String</a>&nbsp;imgPath)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Deletes an image file from the file system based on its unique ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto">ImageUploadResponseDto</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#uploadImage(org.springframework.web.multipart.MultipartFile)" class="member-name-link">uploadImage</a><wbr>(org.springframework.web.multipart.MultipartFile&nbsp;imageFile)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Uploads a single image file.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Von Klasse geerbte Methoden&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="Klasse oder Schnittstelle in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#clone()" title="Klasse oder Schnittstelle in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="Klasse oder Schnittstelle in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#finalize()" title="Klasse oder Schnittstelle in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#getClass()" title="Klasse oder Schnittstelle in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#hashCode()" title="Klasse oder Schnittstelle in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notify()" title="Klasse oder Schnittstelle in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notifyAll()" title="Klasse oder Schnittstelle in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#toString()" title="Klasse oder Schnittstelle in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait()" title="Klasse oder Schnittstelle in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long)" title="Klasse oder Schnittstelle in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="Klasse oder Schnittstelle in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Konstruktordetails</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ImageService</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ImageService</span>()</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Methodendetails</h2>
<ul class="member-list">
<li>
<section class="detail" id="createImageUploadResponseDto(com.spaghetticodegang.trylater.image.Image)">
<h3>createImageUploadResponseDto</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto">ImageUploadResponseDto</a></span>&nbsp;<span class="element-name">createImageUploadResponseDto</span><wbr><span class="parameters">(<a href="Image.html" title="Klasse in com.spaghetticodegang.trylater.image">Image</a>&nbsp;image)</span></div>
<div class="block">Creates an <a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto"><code>ImageUploadResponseDto</code></a> from a given <a href="Image.html" title="Klasse in com.spaghetticodegang.trylater.image"><code>Image</code></a> entity.
 This DTO contains essential information about the uploaded image,
 such as its unique ID and the full path where it is stored.</div>
<dl class="notes">
<dt>Parameter:</dt>
<dd><code>image</code> - The <a href="Image.html" title="Klasse in com.spaghetticodegang.trylater.image"><code>Image</code></a> entity representing the uploaded image.
              Must not be <code>null</code>.</dd>
<dt>Gibt zurück:</dt>
<dd>An <a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto"><code>ImageUploadResponseDto</code></a> containing the image ID and its storage path.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="uploadImage(org.springframework.web.multipart.MultipartFile)">
<h3>uploadImage</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto">ImageUploadResponseDto</a></span>&nbsp;<span class="element-name">uploadImage</span><wbr><span class="parameters">(org.springframework.web.multipart.MultipartFile&nbsp;imageFile)</span></div>
<div class="block">Uploads a single image file.
 This method performs the following steps:
 <ol>
 <li>Validates the provided <code>MultipartFile</code> to ensure it is not empty
 and has a supported image format (png, jpeg, jpg, webp).</li>
 <li>Generates a unique filename for the image using UUID and the original file extension.</li>
 <li>Creates the necessary directory structure on the server if it doesn't exist.</li>
 <li>Transfers the uploaded image file to the designated storage location.</li>
 <li>Creates a new <a href="Image.html" title="Klasse in com.spaghetticodegang.trylater.image"><code>Image</code></a> entity with the generated filename and saves it
 to the database using the <a href="ImageRepository.html" title="Schnittstelle in com.spaghetticodegang.trylater.image"><code>ImageRepository</code></a>.</li>
 <li>Returns an <a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto"><code>ImageUploadResponseDto</code></a> containing the ID and path of the newly uploaded image.</li>
 </ol></div>
<dl class="notes">
<dt>Parameter:</dt>
<dd><code>imageFile</code> - The <code>MultipartFile</code> representing the image to be uploaded.
                  Must not be <code>null</code> or empty.</dd>
<dt>Gibt zurück:</dt>
<dd>An <a href="dto/ImageUploadResponseDto.html" title="Klasse in com.spaghetticodegang.trylater.image.dto"><code>ImageUploadResponseDto</code></a> with the ID and path of the uploaded image.</dd>
<dt>Löst aus:</dt>
<dd><code><a href="../shared/exception/ImageHandleException.html" title="Klasse in com.spaghetticodegang.trylater.shared.exception">ImageHandleException</a></code> - If the provided file is empty, has an unsupported format,
                              or if an <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/IOException.html" title="Klasse oder Schnittstelle in java.io" class="external-link"><code>IOException</code></a> occurs during file handling.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="deleteImageByImgPath(java.lang.String)">
<h3>deleteImageByImgPath</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">deleteImageByImgPath</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="Klasse oder Schnittstelle in java.lang" class="external-link">String</a>&nbsp;imgPath)</span></div>
<div class="block">Deletes an image file from the file system based on its unique ID.
 This method attempts to delete the file located at the path constructed
 using the configured upload directory and the provided <code>imgPath</code>.</div>
<dl class="notes">
<dt>Parameter:</dt>
<dd><code>imgPath</code> - The unique identifier of the image to be deleted.
                This should match the filename (including extension) of the image file.</dd>
<dt>Gibt zurück:</dt>
<dd><code>true</code> if the image file was successfully deleted;
 <code>false</code> if the file does not exist.</dd>
<dt>Löst aus:</dt>
<dd><code><a href="../shared/exception/ImageHandleException.html" title="Klasse in com.spaghetticodegang.trylater.shared.exception">ImageHandleException</a></code> - If an <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/IOException.html" title="Klasse oder Schnittstelle in java.io" class="external-link"><code>IOException</code></a> occurs during the deletion process.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
